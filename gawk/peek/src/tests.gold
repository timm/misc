# vim: ft=awk ts=2 sw=2 et :
@include "lib"
@include "tab"

function csv1(s,    f,d,a) {
  d = Gold.dot 
  f = d d "/data/" "weather" d "csv"
  while(csv(a, f)) o(a)
}

function tab0(s,rows,f,  d,t) {
  d = Gold.dot 
  Tab(t)
  TabRead(t,d d "/data/" f d "csv")
  ok(s,rows,length(t.rows))
}
function tab1(i,t) { print(10); tab0(i,14,  "weather")}
function tab2(i,t) { tab0(i,398, "auto93" )}

function zs(    n,a,i) {
   n=10^4
   while(--n > 0) a[n]=z(10,1)
   asort(a)
   for(i=0;i<=length(a);i = int(i+ length(a)/20))
      print(i,a[i])
}

BEGIN{ 
  #tests("csv1"); tests("tab2")
  zs()
}


