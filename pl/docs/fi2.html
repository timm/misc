<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>fi2.pl</title>
  <link rel="stylesheet" href="pycco.css">
</head>
<body>
<div id='container'>
  <div id="background"></div>
  <div class='section'>
    <div class='docs'><h1>fi2.pl</h1></div>
  </div>
  <div class='clearall'>
  <div class='section' id='section-0'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-0'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre><span></span><span class="nv">%</span><span class="w"> </span><span class="nv">vim:</span><span class="w"> </span><span class="n">filetype</span><span class="o">=</span><span class="n">prolog</span>
<span class="nv">%</span><span class="w"> </span><span class="nv">Calculate</span><span class="w"> </span><span class="nb">log</span><span class="w"> </span><span class="n">base</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">number</span>
<span class="p">:</span><span class="o">-</span><span class="w"> </span><span class="n">use_module</span><span class="p">(</span><span class="n">library</span><span class="p">(</span><span class="n">lists</span><span class="p">))</span><span class="o">.</span>
<span class="n">log2</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="o">.</span>
<span class="n">log2</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">Log</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span><span class="w"> </span><span class="n">Log</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="nb">log</span><span class="p">(</span><span class="n">X</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nb">log</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span>

<span class="p">:</span><span class="o">-</span><span class="w"> </span><span class="n">arithmetic_function</span><span class="p">(</span><span class="n">logn</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span>
<span class="n">logn</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">N</span><span class="p">,</span><span class="n">Out</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span><span class="w"> </span><span class="n">Out</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="nb">log</span><span class="p">(</span><span class="n">X</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nb">log</span><span class="p">(</span><span class="n">N</span><span class="p">)</span><span class="o">.</span>

<span class="p">:</span><span class="o">-</span><span class="w"> </span><span class="n">arithmetic_function</span><span class="p">(</span><span class="n">len</span><span class="o">/</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span>
<span class="n">len</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Out</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span><span class="w"> </span><span class="nb">length</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Out</span><span class="p">)</span><span class="o">.</span>

<span class="nv">%</span><span class="w"> </span><span class="nv">Divide</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">numbers</span>
<span class="n">divide</span><span class="p">(</span><span class="n">N</span><span class="p">,</span><span class="w"> </span><span class="n">M</span><span class="p">,</span><span class="w"> </span><span class="n">Result</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span><span class="w"> </span><span class="n">Result</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">M</span><span class="o">.</span>

<span class="nv">%</span><span class="w"> </span><span class="nv">Multiply</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">numbers</span>
<span class="n">multiply</span><span class="p">(</span><span class="n">N</span><span class="p">,</span><span class="w"> </span><span class="n">M</span><span class="p">,</span><span class="w"> </span><span class="n">Result</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span><span class="w"> </span><span class="n">Result</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">M</span><span class="o">.</span>

<span class="n">runiv</span><span class="p">(</span><span class="n">X0</span><span class="p">,</span><span class="n">N</span><span class="p">,</span><span class="n">X</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span><span class="w"> </span><span class="n">runiv</span><span class="p">(</span><span class="n">X0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">N</span><span class="p">,</span><span class="n">X</span><span class="p">)</span><span class="o">.</span>

<span class="n">runiv</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">N</span><span class="p">,</span><span class="n">N</span><span class="p">,</span><span class="n">X</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span><span class="w"> </span><span class="n">var</span><span class="p">(</span><span class="n">X</span><span class="p">),</span><span class="o">!.</span>
<span class="n">runiv</span><span class="p">(</span><span class="n">X0</span><span class="p">,</span><span class="n">N0</span><span class="p">,</span><span class="n">N</span><span class="p">,</span><span class="n">X</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span>
<span class="w">  </span><span class="n">X0</span><span class="w"> </span><span class="o">=..</span><span class="w"> </span><span class="n">L</span><span class="p">,</span>
<span class="w">  </span><span class="n">member</span><span class="p">(</span><span class="n">X1</span><span class="p">,</span><span class="n">L</span><span class="p">),</span>
<span class="w">  </span><span class="n">N1</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">N0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">  </span><span class="n">runiv</span><span class="p">(</span><span class="n">X1</span><span class="p">,</span><span class="n">N1</span><span class="p">,</span><span class="n">N</span><span class="p">,</span><span class="n">X</span><span class="p">)</span><span class="o">.</span>

<span class="p">:</span><span class="o">-</span><span class="w"> </span><span class="n">dynamic</span><span class="w"> </span><span class="n">meta</span><span class="o">/</span><span class="mi">6</span><span class="o">.</span>
<span class="p">:</span><span class="o">-</span><span class="n">op</span><span class="p">(</span><span class="mi">700</span><span class="p">,</span><span class="n">xfx</span><span class="p">,:</span><span class="o">=</span><span class="p">)</span><span class="o">.</span>
<span class="o">=</span><span class="p">(</span><span class="w">   </span><span class="n">At</span><span class="p">,</span><span class="n">V</span><span class="p">,</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span><span class="w"> </span><span class="n">meta</span><span class="p">(</span><span class="n">_</span><span class="p">,</span><span class="n">At</span><span class="p">,</span><span class="n">V</span><span class="p">,</span><span class="w">    </span><span class="n">V</span><span class="p">,</span><span class="w">      </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="p">)</span><span class="o">.</span>
<span class="p">:</span><span class="o">=</span><span class="p">(</span><span class="w">  </span><span class="n">At</span><span class="p">,</span><span class="n">V</span><span class="p">,</span><span class="n">T0</span><span class="p">,</span><span class="n">T</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span><span class="w"> </span><span class="n">meta</span><span class="p">(</span><span class="n">_</span><span class="p">,</span><span class="n">At</span><span class="p">,</span><span class="n">_</span><span class="p">,</span><span class="w">    </span><span class="n">V</span><span class="p">,</span><span class="w">      </span><span class="n">T0</span><span class="p">,</span><span class="n">T</span><span class="p">)</span><span class="o">.</span>
<span class="nb">pop</span><span class="p">(</span><span class="w"> </span><span class="n">At</span><span class="p">,</span><span class="n">H</span><span class="p">,</span><span class="n">T0</span><span class="p">,</span><span class="n">T</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span><span class="w"> </span><span class="n">meta</span><span class="p">(</span><span class="n">_</span><span class="p">,</span><span class="n">At</span><span class="p">,[</span><span class="n">H</span><span class="o">|</span><span class="n">L</span><span class="p">],</span><span class="n">L</span><span class="p">,</span><span class="w">      </span><span class="n">T0</span><span class="p">,</span><span class="n">T</span><span class="p">)</span><span class="o">.</span>
<span class="nb">push</span><span class="p">(</span><span class="n">At</span><span class="p">,</span><span class="n">X</span><span class="p">,</span><span class="n">T0</span><span class="p">,</span><span class="n">T</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span><span class="w"> </span><span class="n">meta</span><span class="p">(</span><span class="n">_</span><span class="p">,</span><span class="n">At</span><span class="p">,</span><span class="n">L</span><span class="p">,</span><span class="w">    </span><span class="p">[</span><span class="n">X</span><span class="o">|</span><span class="n">L</span><span class="p">],</span><span class="w">  </span><span class="n">T0</span><span class="p">,</span><span class="n">T</span><span class="p">)</span><span class="o">.</span>
<span class="n">inc</span><span class="p">(</span><span class="w"> </span><span class="n">At</span><span class="p">,</span><span class="n">X</span><span class="p">,</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span><span class="w"> </span><span class="n">meta</span><span class="p">(</span><span class="n">_</span><span class="p">,</span><span class="n">At</span><span class="p">,</span><span class="n">L0</span><span class="p">,</span><span class="w">   </span><span class="p">[</span><span class="n">X</span><span class="sr">/N|L],T, T), (without(L0,X/</span><span class="n">N0</span><span class="p">,</span><span class="n">L</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">N0</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">L</span><span class="o">=</span><span class="n">L0</span><span class="p">,</span><span class="n">N</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span>
<span class="n">in</span><span class="p">(</span><span class="w">  </span><span class="n">At</span><span class="p">,</span><span class="n">X</span><span class="p">,</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span><span class="w"> </span><span class="n">meta</span><span class="p">(</span><span class="n">_</span><span class="p">,</span><span class="n">At</span><span class="p">,</span><span class="n">L0</span><span class="p">,</span><span class="w">   </span><span class="p">[</span><span class="n">X</span><span class="o">|</span><span class="n">L</span><span class="p">],</span><span class="w">  </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="p">),</span><span class="w"> </span><span class="n">without</span><span class="p">(</span><span class="n">L0</span><span class="p">,</span><span class="n">X</span><span class="p">,</span><span class="n">L</span><span class="p">)</span><span class="o">.</span>
<span class="o">&gt;=</span><span class="p">(</span><span class="w">  </span><span class="n">At</span><span class="p">,</span><span class="n">N</span><span class="p">)</span><span class="w">     </span><span class="o">--&gt;</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="n">At</span><span class="p">,</span><span class="n">N1</span><span class="p">),</span><span class="w"> </span><span class="p">{</span><span class="n">N1</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">N</span><span class="p">}</span><span class="o">.</span>
<span class="o">&gt;</span><span class="p">(</span><span class="w">   </span><span class="n">At</span><span class="p">,</span><span class="n">N</span><span class="p">)</span><span class="w">     </span><span class="o">--&gt;</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="n">At</span><span class="p">,</span><span class="n">N1</span><span class="p">),</span><span class="w"> </span><span class="p">{</span><span class="n">N1</span><span class="w"> </span><span class="o">&gt;</span><span class="w">  </span><span class="n">N</span><span class="p">}</span><span class="o">.</span>
<span class="o">&lt;</span><span class="p">(</span><span class="w">   </span><span class="n">At</span><span class="p">,</span><span class="n">N</span><span class="p">)</span><span class="w">     </span><span class="o">--&gt;</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="n">At</span><span class="p">,</span><span class="n">N1</span><span class="p">),</span><span class="w"> </span><span class="p">{</span><span class="n">N1</span><span class="w"> </span><span class="o">&lt;</span><span class="w">  </span><span class="n">N</span><span class="p">}</span><span class="o">.</span>
<span class="o">=&lt;</span><span class="p">(</span><span class="w">  </span><span class="n">At</span><span class="p">,</span><span class="n">N</span><span class="p">)</span><span class="w">     </span><span class="o">--&gt;</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="n">At</span><span class="p">,</span><span class="n">N1</span><span class="p">),</span><span class="w"> </span><span class="p">{</span><span class="n">N1</span><span class="w"> </span><span class="o">=&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">}</span><span class="o">.</span>

<span class="n">without</span><span class="p">([</span><span class="n">X</span><span class="o">|</span><span class="n">T</span><span class="p">],</span><span class="n">X</span><span class="p">,</span><span class="n">T</span><span class="p">)</span><span class="o">.</span>
<span class="n">without</span><span class="p">([</span><span class="n">H</span><span class="o">|</span><span class="n">T0</span><span class="p">],</span><span class="n">X</span><span class="p">,[</span><span class="n">H</span><span class="o">|</span><span class="n">T</span><span class="p">])</span><span class="w"> </span><span class="p">:</span><span class="o">-</span><span class="w"> </span><span class="n">without</span><span class="p">(</span><span class="n">T0</span><span class="p">,</span><span class="n">X</span><span class="p">,</span><span class="n">T</span><span class="p">)</span><span class="o">.</span>

<span class="n">neg1</span><span class="p">(</span><span class="o">&gt;=</span><span class="p">,</span><span class="w"> </span><span class="o">&lt;</span><span class="p">)</span><span class="o">.</span>
<span class="n">neg1</span><span class="p">(</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="o">=&lt;</span><span class="p">)</span><span class="o">.</span>
<span class="n">neg1</span><span class="p">(</span><span class="o">=</span><span class="p">,</span><span class="w"> </span><span class="o">\=</span><span class="p">)</span><span class="o">.</span>
<span class="n">neg</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span><span class="w"> </span><span class="n">neg1</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">);</span><span class="w">  </span><span class="n">neg1</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span><span class="n">X</span><span class="p">)</span><span class="o">.</span>

<span class="n">isa</span><span class="p">(</span><span class="n">F</span><span class="p">,</span><span class="n">Y</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span><span class="w"> </span><span class="n">isa</span><span class="p">(</span><span class="n">F</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">Y</span><span class="p">)</span><span class="o">.</span>
<span class="n">isa</span><span class="p">(</span><span class="n">F</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">Y</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span><span class="w"> </span><span class="n">meta</span><span class="p">(</span><span class="n">F</span><span class="p">,</span><span class="n">_</span><span class="p">,</span><span class="n">_</span><span class="p">,</span><span class="n">_</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">Y</span><span class="p">)</span><span class="o">.</span>

<span class="n">term_expansion</span><span class="p">((</span><span class="n">A</span><span class="w"> </span><span class="o">--&gt;</span><span class="w"> </span><span class="k">for</span><span class="p">(</span><span class="n">F</span><span class="p">),</span><span class="n">B</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="n">A1</span><span class="w"> </span><span class="p">:</span><span class="o">-</span><span class="w"> </span><span class="n">B1</span><span class="p">))</span><span class="w"> </span><span class="p">:</span><span class="o">-</span>
<span class="w">  </span><span class="n">dcg_translate_rule</span><span class="p">((</span><span class="n">A</span><span class="w"> </span><span class="o">--&gt;</span><span class="w"> </span><span class="n">tmp</span><span class="p">,</span><span class="n">B</span><span class="p">),(</span><span class="n">A1</span><span class="w"> </span><span class="p">:</span><span class="o">-</span><span class="w"> </span><span class="n">tmp</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">X</span><span class="p">),</span><span class="n">B1</span><span class="p">)),</span>
<span class="w">  </span><span class="n">meta</span><span class="p">(</span><span class="n">F</span><span class="p">,</span><span class="n">_</span><span class="p">,</span><span class="n">_</span><span class="p">,</span><span class="n">_</span><span class="p">,</span><span class="n">X</span><span class="p">,</span><span class="n">X</span><span class="p">)</span><span class="o">.</span>

<span class="n">term_expansion</span><span class="p">(</span><span class="n">F</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Fields</span><span class="p">,</span><span class="w"> </span><span class="n">Metas</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span>
<span class="w">  </span><span class="n">findall</span><span class="p">(</span><span class="n">Meta</span><span class="p">,</span><span class="w"> </span><span class="n">metas</span><span class="p">(</span><span class="n">F</span><span class="p">,</span><span class="n">Fields</span><span class="p">,</span><span class="n">Meta</span><span class="p">),</span><span class="w"> </span><span class="n">Metas</span><span class="p">)</span><span class="o">.</span>

<span class="n">metas</span><span class="p">(</span><span class="n">F</span><span class="p">,</span><span class="n">L</span><span class="p">,</span><span class="n">meta</span><span class="p">(</span><span class="n">F</span><span class="p">,</span><span class="n">X</span><span class="p">,</span><span class="n">V0</span><span class="p">,</span><span class="n">V1</span><span class="p">,</span><span class="n">Term0</span><span class="p">,</span><span class="n">Term1</span><span class="p">))</span><span class="w"> </span><span class="p">:</span><span class="o">-</span>
<span class="w">  </span><span class="n">member</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">L</span><span class="p">),</span><span class="w"> </span><span class="n">meta1</span><span class="p">(</span><span class="n">L</span><span class="p">,</span><span class="n">V0</span><span class="p">,</span><span class="n">V1</span><span class="p">,</span><span class="n">L0</span><span class="p">,</span><span class="n">L1</span><span class="p">,</span><span class="n">X</span><span class="p">),</span><span class="w"> </span><span class="n">Term0</span><span class="o">=..</span><span class="w"> </span><span class="p">[</span><span class="n">F</span><span class="o">|</span><span class="n">L0</span><span class="p">],</span><span class="w"> </span><span class="n">Term1</span><span class="o">=..</span><span class="w"> </span><span class="p">[</span><span class="n">F</span><span class="o">|</span><span class="n">L1</span><span class="p">]</span><span class="o">.</span>

<span class="n">meta1</span><span class="p">(</span><span class="o">[]</span><span class="p">,</span><span class="w">    </span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="p">,</span><span class="o">[]</span><span class="p">,</span><span class="w">      </span><span class="o">[]</span><span class="p">,</span><span class="w">      </span><span class="n">_</span><span class="p">)</span><span class="o">.</span>
<span class="n">meta1</span><span class="p">([</span><span class="n">H</span><span class="o">|</span><span class="n">L</span><span class="p">],</span><span class="n">V0</span><span class="p">,</span><span class="n">V1</span><span class="p">,[</span><span class="n">V0</span><span class="o">|</span><span class="n">V0s</span><span class="p">],[</span><span class="n">V1</span><span class="o">|</span><span class="n">V1s</span><span class="p">],</span><span class="n">H</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span><span class="w">         </span><span class="n">meta1</span><span class="p">(</span><span class="n">L</span><span class="p">,</span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="n">V0s</span><span class="p">,</span><span class="n">V1s</span><span class="p">,</span><span class="n">H</span><span class="p">)</span><span class="o">.</span>
<span class="n">meta1</span><span class="p">([</span><span class="n">H</span><span class="o">|</span><span class="n">L</span><span class="p">],</span><span class="n">V0</span><span class="p">,</span><span class="n">V1</span><span class="p">,[</span><span class="n">V</span><span class="w"> </span><span class="o">|</span><span class="n">V0s</span><span class="p">],[</span><span class="n">V</span><span class="w"> </span><span class="o">|</span><span class="n">V1s</span><span class="p">],</span><span class="n">X</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span><span class="w"> </span><span class="n">H</span><span class="w"> </span><span class="o">\=</span><span class="w"> </span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">meta1</span><span class="p">(</span><span class="n">L</span><span class="p">,</span><span class="n">V0</span><span class="p">,</span><span class="n">V1</span><span class="p">,</span><span class="n">V0s</span><span class="p">,</span><span class="n">V1s</span><span class="p">,</span><span class="n">X</span><span class="p">)</span><span class="o">.</span>

<span class="nv">%</span><span class="w"> </span><span class="nv">asdas</span>
<span class="n">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">at</span><span class="p">,</span><span class="n">txt</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">mu</span><span class="p">,</span><span class="n">mu2</span><span class="p">,</span><span class="n">w</span><span class="p">]</span><span class="w"> </span><span class="o">.</span>

<span class="n">init</span><span class="p">(</span><span class="n">X</span><span class="p">)</span><span class="w"> </span><span class="o">--&gt;</span>
<span class="w">   </span><span class="k">for</span><span class="p">(</span><span class="n">num</span><span class="p">),</span>
<span class="w">   </span><span class="n">at</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">mu2</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span><span class="w"> </span><span class="n">w</span><span class="o">=[]</span><span class="p">,</span><span class="w"> </span><span class="nb">push</span><span class="p">(</span><span class="n">w</span><span class="p">,</span><span class="n">a</span><span class="p">),</span><span class="w"> </span><span class="nb">push</span><span class="p">(</span><span class="n">w</span><span class="p">,</span><span class="n">b</span><span class="p">),</span><span class="w"> </span><span class="nb">pop</span><span class="p">(</span><span class="n">w</span><span class="p">,</span><span class="n">Y</span><span class="p">),</span><span class="w"> </span><span class="p">{</span><span class="k">print</span><span class="p">(</span><span class="n">Y</span><span class="p">)},</span>
<span class="w">   </span><span class="n">mu</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="mi">34</span><span class="o">.</span>

<span class="n">eg1</span><span class="w"> </span><span class="p">:</span><span class="o">-</span>
<span class="w">   </span><span class="n">listing</span><span class="p">(</span><span class="n">meta</span><span class="p">),</span>
<span class="w">   </span><span class="n">init</span><span class="p">(</span><span class="mi">34</span><span class="p">,</span><span class="n">_</span><span class="p">,</span><span class="n">X</span><span class="p">),</span><span class="w"> </span><span class="k">print</span><span class="p">(</span><span class="n">X</span><span class="p">)</span><span class="o">.</span>

<span class="nv">%</span><span class="w"> </span><span class="nv">:</span><span class="o">-</span><span class="w"> </span><span class="n">spy</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="o">.</span>
<span class="nv">%</span><span class="w"> </span><span class="nv">:</span><span class="o">-</span><span class="w"> </span><span class="n">trace</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="o">.</span>
<span class="nv">%</span><span class="w"> </span><span class="nv">:</span><span class="o">-</span><span class="w"> </span><span class="n">listing</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="o">.</span><span class="w"> </span>
<span class="nv">%</span><span class="w"> </span><span class="nv">:</span><span class="o">-</span><span class="w"> </span><span class="n">listing</span><span class="p">(</span><span class="n">meta</span><span class="p">)</span><span class="o">.</span>
<span class="nv">%</span>
<span class="err">%</span><span class="w"> </span><span class="nv">makeCol</span><span class="p">(</span><span class="n">Names</span><span class="p">,</span><span class="n">Row</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span>
<span class="nv">%</span><span class="w">   </span><span class="nv">nth1</span><span class="p">(</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="n">Names</span><span class="p">,</span><span class="w"> </span><span class="n">At</span><span class="p">)</span>
<span class="nv">%</span><span class="w">   </span><span class="nv">name</span><span class="p">(</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="n">First</span><span class="o">|</span><span class="n">_</span><span class="p">]),</span>
<span class="nv">%</span><span class="w">   </span><span class="nv">upper</span><span class="p">(</span><span class="n">First</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">row</span><span class="p">(</span><span class="n">at</span>
<span class="nv">%</span><span class="w"> </span><span class="nv">makeCols</span><span class="p">(</span><span class="n">Names</span><span class="p">,</span><span class="n">row</span><span class="p">(</span><span class="n">x</span><span class="p">(</span><span class="n">X</span><span class="p">),</span><span class="w"> </span><span class="n">y</span><span class="p">(</span><span class="n">Y</span><span class="p">),</span><span class="w"> </span><span class="n">all</span><span class="p">(</span><span class="n">A</span><span class="p">),</span><span class="w"> </span><span class="n">names</span><span class="p">(</span><span class="n">Names</span><span class="p">))</span><span class="w"> </span><span class="p">:</span><span class="o">-</span>
<span class="nv">%</span><span class="w">   </span><span class="nv">findall</span><span class="p">(</span><span class="n">Col</span><span class="p">,</span><span class="w"> </span><span class="n">makeCol</span><span class="p">(</span><span class="n">Names</span><span class="p">,</span><span class="n">Col</span><span class="p">)),</span><span class="w"> </span><span class="n">Cols</span><span class="p">),</span>
<span class="nv">%</span>
<span class="err">%</span><span class="w"> </span><span class="nv">split</span><span class="p">(</span><span class="o">[]</span><span class="p">,</span><span class="n">_</span><span class="p">,</span><span class="o">[]</span><span class="p">,</span><span class="o">[]</span><span class="p">)</span><span class="o">.</span>
<span class="nv">%</span><span class="w"> </span><span class="nv">split</span><span class="p">([</span><span class="n">R</span><span class="o">|</span><span class="n">Rows</span><span class="p">],</span><span class="n">Want</span><span class="p">,[</span><span class="n">R</span><span class="o">|</span><span class="n">Yes</span><span class="p">],</span><span class="n">No</span><span class="p">):</span><span class="o">-</span><span class="w"> </span><span class="n">at</span><span class="p">(</span><span class="n">Want</span><span class="p">,</span><span class="n">R</span><span class="p">),</span><span class="o">!</span><span class="p">,</span><span class="n">split1</span><span class="p">(</span><span class="n">Rows</span><span class="p">,</span><span class="n">Want</span><span class="p">,</span><span class="n">Yes</span><span class="p">,</span><span class="n">No</span><span class="p">)</span><span class="o">.</span>
<span class="nv">%</span><span class="w"> </span><span class="nv">split</span><span class="p">([</span><span class="n">R</span><span class="o">|</span><span class="n">Rows</span><span class="p">],</span><span class="n">Want</span><span class="p">,</span><span class="n">Yes</span><span class="p">,[</span><span class="n">R</span><span class="o">|</span><span class="n">No</span><span class="p">]):</span><span class="o">-</span><span class="w"> </span><span class="n">split1</span><span class="p">(</span><span class="n">Rows</span><span class="p">,</span><span class="n">Want</span><span class="p">,</span><span class="n">Yes</span><span class="p">,</span><span class="n">No</span><span class="p">)</span><span class="o">.</span>
<span class="nv">%</span>
<span class="err">%</span><span class="w"> </span><span class="nv">gain</span><span class="p">(</span><span class="n">Want</span><span class="p">,</span><span class="n">Rows</span><span class="p">,</span><span class="n">Gain</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span>
<span class="nv">%</span><span class="w">   </span><span class="nv">split</span><span class="p">(</span><span class="n">Rows</span><span class="p">,</span><span class="n">Want</span><span class="p">,</span><span class="n">Yes</span><span class="p">,</span><span class="n">No</span><span class="p">),</span>
<span class="nv">%</span><span class="w">   </span><span class="nv">len</span><span class="p">(</span><span class="n">Yes</span><span class="p">)</span>
<span class="nv">%</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="nv">Split</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">dataset</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">attribute</span><span class="w"> </span><span class="nb">values</span>
<span class="nv">%</span>
<span class="err">%</span><span class="w">   </span>
<span class="err">%</span><span class="w"> </span><span class="nv">split_examples</span><span class="p">(</span><span class="o">[]</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="o">[]</span><span class="p">,</span><span class="w"> </span><span class="o">[]</span><span class="p">)</span><span class="o">.</span>
<span class="nv">%</span><span class="w"> </span><span class="nv">split_examples</span><span class="p">([[</span><span class="n">Class</span><span class="o">|</span><span class="n">T</span><span class="p">]],</span><span class="w"> </span><span class="n">AttributeIndex</span><span class="p">,</span><span class="w"> </span><span class="p">[[</span><span class="n">Class</span><span class="o">|</span><span class="n">T</span><span class="p">]],</span><span class="w"> </span><span class="o">[]</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">length</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">AttributeIndex</span><span class="p">)</span><span class="o">.</span>
<span class="nv">%</span><span class="w"> </span><span class="nv">split_examples</span><span class="p">([[</span><span class="n">X</span><span class="o">|</span><span class="n">T</span><span class="p">]],</span><span class="w"> </span><span class="n">AttributeIndex</span><span class="p">,</span><span class="w"> </span><span class="p">[[</span><span class="n">X</span><span class="o">|</span><span class="n">Rest</span><span class="p">]],</span><span class="w"> </span><span class="p">[</span><span class="n">T</span><span class="o">|</span><span class="n">SplitTail</span><span class="p">])</span><span class="w"> </span><span class="p">:</span><span class="o">-</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">nth1</span><span class="p">(</span><span class="n">AttributeIndex</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">AttributeValue</span><span class="p">),</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">split_examples</span><span class="p">([[</span><span class="n">X</span><span class="o">|</span><span class="n">T</span><span class="p">]],</span><span class="w"> </span><span class="n">AttributeIndex</span><span class="p">,</span><span class="w"> </span><span class="n">Rest</span><span class="p">,</span><span class="w"> </span><span class="n">SplitTail</span><span class="p">)</span><span class="o">.</span>
<span class="nv">%</span>
<span class="err">%</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="nv">Calculate</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">gain</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">given</span><span class="w"> </span><span class="n">attribute</span>
<span class="nv">%</span><span class="w"> </span><span class="nv">information_gain</span><span class="p">(</span><span class="n">AttributeIndex</span><span class="p">,</span><span class="w"> </span><span class="n">Examples</span><span class="p">,</span><span class="w"> </span><span class="n">InformationGain</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">split_examples</span><span class="p">(</span><span class="n">Examples</span><span class="p">,</span><span class="w"> </span><span class="n">AttributeIndex</span><span class="p">,</span><span class="w"> </span><span class="n">WithAttribute</span><span class="p">,</span><span class="w"> </span><span class="n">WithoutAttribute</span><span class="p">),</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">entropy</span><span class="p">(</span><span class="n">WithAttribute</span><span class="p">,</span><span class="w"> </span><span class="n">WithAttributeEntropy</span><span class="p">),</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">entropy</span><span class="p">(</span><span class="n">WithoutAttribute</span><span class="p">,</span><span class="w"> </span><span class="n">WithoutAttributeEntropy</span><span class="p">),</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">length</span><span class="p">(</span><span class="n">Examples</span><span class="p">,</span><span class="w"> </span><span class="n">Total</span><span class="p">),</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">length</span><span class="p">(</span><span class="n">WithAttribute</span><span class="p">,</span><span class="w"> </span><span class="n">WithAttributeCount</span><span class="p">),</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">length</span><span class="p">(</span><span class="n">WithoutAttribute</span><span class="p">,</span><span class="w"> </span><span class="n">WithoutAttributeCount</span><span class="p">),</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">divide</span><span class="p">(</span><span class="n">WithAttributeCount</span><span class="p">,</span><span class="w"> </span><span class="n">Total</span><span class="p">,</span><span class="w"> </span><span class="n">WithAttributeRatio</span><span class="p">),</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">divide</span><span class="p">(</span><span class="n">WithoutAttributeCount</span><span class="p">,</span><span class="w"> </span><span class="n">Total</span><span class="p">,</span><span class="w"> </span><span class="n">WithoutAttributeRatio</span><span class="p">),</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">multiply</span><span class="p">(</span><span class="n">WithAttributeRatio</span><span class="p">,</span><span class="w"> </span><span class="n">WithAttributeEntropy</span><span class="p">,</span><span class="w"> </span><span class="n">WeightedWithAttributeEntropy</span><span class="p">),</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">multiply</span><span class="p">(</span><span class="n">WithoutAttributeRatio</span><span class="p">,</span><span class="w"> </span><span class="n">WithoutAttributeEntropy</span><span class="p">,</span><span class="w"> </span><span class="n">WeightedWithoutAttributeEntropy</span><span class="p">),</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">InformationGain</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="o">-</span><span class="n">WeightedWithAttributeEntropy</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">WeightedWithoutAttributeEntropy</span><span class="o">.</span>
<span class="nv">%</span>
<span class="err">%</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="nv">Find</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">best</span><span class="w"> </span><span class="n">attribute</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="nb">split</span><span class="w"> </span><span class="n">on</span>
<span class="nv">%</span><span class="w"> </span><span class="nv">best_attribute</span><span class="p">(</span><span class="n">Examples</span><span class="p">,</span><span class="w"> </span><span class="n">BestAttributeIndex</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">length</span><span class="p">(</span><span class="n">Examples</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="n">FirstRow</span><span class="o">|</span><span class="n">_</span><span class="p">]),</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">length</span><span class="p">(</span><span class="n">FirstRow</span><span class="p">,</span><span class="w"> </span><span class="n">NumAttributes</span><span class="p">),</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">findall</span><span class="p">(</span><span class="n">InformationGain</span><span class="o">-</span><span class="n">AttributeIndex</span><span class="p">,</span><span class="w"> </span><span class="p">(</span>
<span class="nv">%</span><span class="w">         </span><span class="nv">between</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">NumAttributes</span><span class="p">,</span><span class="w"> </span><span class="n">AttributeIndex</span><span class="p">),</span>
<span class="nv">%</span><span class="w">         </span><span class="nv">AttributeIndex</span><span class="w"> </span><span class="o">\=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="nv">%</span><span class="w">         </span><span class="nv">information_gain</span><span class="p">(</span><span class="n">AttributeIndex</span><span class="p">,</span><span class="w"> </span><span class="n">Examples</span><span class="p">,</span><span class="w"> </span><span class="n">InformationGain</span><span class="p">)</span>
<span class="nv">%</span><span class="w">     </span><span class="p">),</span><span class="w"> </span><span class="n">InformationGains</span><span class="p">),</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">max_member</span><span class="p">(</span><span class="n">_</span><span class="o">-</span><span class="n">BestAttributeIndex</span><span class="p">,</span><span class="w"> </span><span class="n">InformationGains</span><span class="p">)</span><span class="o">.</span>
<span class="nv">%</span>
<span class="err">%</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="nv">Build</span><span class="w"> </span><span class="n">decision</span><span class="w"> </span><span class="n">tree</span>
<span class="nv">%</span><span class="w"> </span><span class="nv">build_tree</span><span class="p">(</span><span class="o">[]</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="o">-</span><span class="n">DefaultClass</span><span class="p">,</span><span class="w"> </span><span class="n">DefaultClass</span><span class="p">)</span><span class="o">.</span>
<span class="nv">%</span><span class="w"> </span><span class="nv">build_tree</span><span class="p">(</span><span class="n">Examples</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="o">-</span><span class="n">DefaultClass</span><span class="p">,</span><span class="w"> </span><span class="n">DefaultClass</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">all_same_class</span><span class="p">(</span><span class="n">Examples</span><span class="p">)</span><span class="o">.</span>
<span class="nv">%</span><span class="w"> </span><span class="nv">build_tree</span><span class="p">(</span><span class="n">Examples</span><span class="p">,</span><span class="w"> </span><span class="n">BestAttributeIndex</span><span class="o">-</span><span class="n">BestAttribute</span><span class="p">,</span><span class="w"> </span><span class="n">DefaultClass</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">split_examples</span><span class="p">(</span><span class="n">Examples</span><span class="p">,</span><span class="w"> </span><span class="n">BestAttributeIndex</span><span class="p">,</span><span class="w"> </span><span class="n">WithAttribute</span><span class="p">,</span><span class="w"> </span><span class="n">WithoutAttribute</span><span class="p">),</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">best_attribute</span><span class="p">(</span><span class="n">WithAttribute</span><span class="p">,</span><span class="w"> </span><span class="n">NextBestAttributeIndex</span><span class="p">),</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">build_tree</span><span class="p">(</span><span class="n">WithAttribute</span><span class="p">,</span><span class="w"> </span><span class="n">NextBestAttributeIndex</span><span class="o">-</span><span class="n">BestAttribute</span><span class="p">,</span><span class="w"> </span><span class="n">DefaultClassWith</span><span class="p">),</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">build_tree</span><span class="p">(</span><span class="n">WithoutAttribute</span><span class="p">,</span><span class="w"> </span><span class="n">NextBestAttributeIndex</span><span class="o">-</span><span class="n">BestAttribute</span><span class="p">,</span><span class="w"> </span><span class="n">DefaultClassWithout</span><span class="p">),</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">build_tree</span><span class="p">(</span><span class="n">Examples</span><span class="p">,</span><span class="w"> </span><span class="n">BestAttributeIndex</span><span class="p">,</span><span class="w"> </span><span class="n">BestAttribute</span><span class="p">,</span><span class="w"> </span><span class="n">NextBestAttributeIndex</span><span class="p">,</span><span class="w"> </span><span class="n">DefaultClassWith</span><span class="p">,</span><span class="w"> </span><span class="n">DefaultClassWithout</span><span class="p">)</span><span class="o">.</span>
<span class="nv">%</span>
<span class="err">%</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="nv">Check</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">examples</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">class</span>
<span class="nv">%</span><span class="w"> </span><span class="nv">all_same_class</span><span class="p">(</span><span class="o">[]</span><span class="p">)</span><span class="o">.</span>
<span class="nv">%</span><span class="w"> </span><span class="nv">all_same_class</span><span class="p">([[</span><span class="n">Class</span><span class="o">|</span><span class="n">_</span><span class="p">]</span><span class="o">|</span><span class="n">T</span><span class="p">])</span><span class="w"> </span><span class="p">:</span><span class="o">-</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">maplist</span><span class="p">(</span><span class="o">=</span><span class="p">(</span><span class="n">Class</span><span class="p">),</span><span class="w"> </span><span class="n">T</span><span class="p">)</span><span class="o">.</span>
<span class="nv">%</span>
<span class="err">%</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="nv">Classify</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">decision</span><span class="w"> </span><span class="n">tree</span>
<span class="nv">%</span><span class="w"> </span><span class="nv">classify</span><span class="p">([</span><span class="n">Class</span><span class="o">|</span><span class="n">_</span><span class="p">],</span><span class="w"> </span><span class="n">Class</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">atomic</span><span class="p">(</span><span class="n">Class</span><span class="p">)</span><span class="o">.</span>
<span class="nv">%</span><span class="w"> </span><span class="nv">classify</span><span class="p">([</span><span class="n">Attribute</span><span class="o">|</span><span class="n">Rest</span><span class="p">],</span><span class="w"> </span><span class="n">Class</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">functor</span><span class="p">(</span><span class="n">Attribute</span><span class="p">,</span><span class="w"> </span><span class="n">AttributeName</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="p">),</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">arg</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">Attribute</span><span class="p">,</span><span class="w"> </span><span class="n">AttributeValue</span><span class="p">),</span>
<span class="nv">%</span><span class="w">     </span><span class="err">(</span><span class="w">  </span><span class="nv">AttributeName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BestAttribute</span><span class="p">,</span>
<span class="nv">%</span><span class="w">        </span><span class="nv">build_tree</span><span class="p">(</span><span class="n">Examples</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="o">-</span><span class="n">BestAttribute</span><span class="p">,</span><span class="w"> </span><span class="n">DefaultClass</span><span class="p">),</span>
<span class="nv">%</span><span class="w">        </span><span class="err">(</span><span class="w">  </span><span class="nv">member</span><span class="p">([</span><span class="n">AttributeValue</span><span class="o">|</span><span class="n">Rest</span><span class="p">],</span><span class="w"> </span><span class="n">Examples</span><span class="p">),</span>
<span class="nv">%</span><span class="w">           </span><span class="nv">classify</span><span class="p">([</span><span class="n">AttributeValue</span><span class="o">|</span><span class="n">Rest</span><span class="p">],</span><span class="w"> </span><span class="n">Class</span><span class="p">)</span>
<span class="nv">%</span><span class="w">        </span><span class="err">;</span><span class="w">  </span><span class="nv">classify</span><span class="p">(</span><span class="n">Rest</span><span class="p">,</span><span class="w"> </span><span class="n">Class</span><span class="p">)</span>
<span class="nv">%</span><span class="w">        </span><span class="p">)</span>
<span class="nv">%</span><span class="w">     </span><span class="err">;</span><span class="w">  </span><span class="nv">classify</span><span class="p">(</span><span class="n">Rest</span><span class="p">,</span><span class="w"> </span><span class="n">Class</span><span class="p">)</span>
<span class="nv">%</span><span class="w">     </span><span class="p">)</span><span class="o">.</span>
<span class="nv">%</span>
<span class="err">%</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="nv">Example</span><span class="w"> </span><span class="n">usage:</span>
<span class="nv">%</span><span class="w"> </span><span class="err">%</span><span class="w"> </span><span class="nv">discretize</span><span class="p">([[</span><span class="n">outlook</span><span class="p">,</span><span class="n">temperature</span><span class="p">,</span><span class="n">humidity</span><span class="p">,</span><span class="n">wind</span><span class="p">,</span><span class="n">play</span><span class="p">],</span>
<span class="nv">%</span><span class="w"> </span><span class="err">%</span><span class="w">             </span><span class="err">[</span><span class="nv">sunny</span><span class="p">,</span><span class="n">hot</span><span class="p">,</span><span class="n">high</span><span class="p">,</span><span class="n">weak</span><span class="p">,</span><span class="k">no</span><span class="p">],</span>
<span class="nv">%</span><span class="w"> </span><span class="err">%</span><span class="w">             </span><span class="err">[</span><span class="nv">sunny</span><span class="p">,</span><span class="n">hot</span><span class="p">,</span><span class="n">high</span><span class="p">,</span><span class="n">strong</span><span class="p">,</span><span class="k">no</span><span class="p">],</span>
<span class="nv">%</span><span class="w"> </span><span class="err">%</span><span class="w">             </span><span class="err">[</span><span class="nv">overcast</span><span class="p">,</span><span class="n">hot</span><span class="p">,</span><span class="n">high</span><span class="p">,</span><span class="n">weak</span><span class="p">,</span><span class="n">yes</span><span class="p">],</span>
<span class="nv">%</span><span class="w"> </span><span class="err">%</span><span class="w">             </span><span class="err">[</span><span class="nv">rain</span><span class="p">,</span><span class="n">mild</span><span class="p">,</span><span class="n">high</span><span class="p">,</span><span class="n">weak</span><span class="p">,</span><span class="n">yes</span><span class="p">],</span>
<span class="nv">%</span><span class="w"> </span><span class="err">%</span><span class="w">             </span><span class="err">[</span><span class="nv">rain</span><span class="p">,</span><span class="n">cool</span><span class="p">,</span><span class="n">normal</span><span class="p">,</span><span class="n">weak</span><span class="p">,</span><span class="n">yes</span><span class="p">],</span>
<span class="nv">%</span><span class="w"> </span><span class="err">%</span><span class="w">             </span><span class="err">[</span><span class="nv">rain</span><span class="p">,</span><span class="n">cool</span><span class="p">,</span><span class="n">normal</span><span class="p">,</span><span class="n">strong</span><span class="p">,</span><span class="k">no</span><span class="p">],</span>
<span class="nv">%</span><span class="w"> </span><span class="err">%</span><span class="w">             </span><span class="err">[</span><span class="nv">overcast</span><span class="p">,</span><span class="n">cool</span><span class="p">,</span><span class="n">normal</span><span class="p">,</span><span class="n">strong</span><span class="p">,</span><span class="n">yes</span><span class="p">],</span>
<span class="nv">%</span><span class="w"> </span><span class="err">%</span><span class="w">             </span><span class="err">[</span><span class="nv">sunny</span><span class="p">,</span><span class="n">mild</span><span class="p">,</span><span class="n">high</span><span class="p">,</span><span class="n">weak</span><span class="p">,</span><span class="k">no</span><span class="p">],</span>
<span class="nv">%</span><span class="w"> </span><span class="err">%</span><span class="w">             </span><span class="err">[</span><span class="nv">sunny</span><span class="p">,</span><span class="n">cool</span><span class="p">,</span><span class="n">normal</span><span class="p">,</span><span class="n">weak</span><span class="p">,</span><span class="n">yes</span><span class="p">],</span>
<span class="nv">%</span><span class="w"> </span><span class="err">%</span><span class="w">             </span><span class="err">[</span><span class="nv">rain</span><span class="p">,</span><span class="n">mild</span><span class="p">,</span><span class="n">normal</span><span class="p">,</span><span class="n">weak</span><span class="p">,</span><span class="n">yes</span><span class="p">],</span>
<span class="nv">%</span><span class="w"> </span><span class="err">%</span><span class="w">             </span><span class="err">[</span><span class="nv">sunny</span><span class="p">,</span><span class="n">mild</span><span class="p">,</span><span class="n">normal</span><span class="p">,</span><span class="n">strong</span><span class="p">,</span><span class="n">yes</span><span class="p">],</span>
<span class="nv">%</span><span class="w"> </span><span class="err">%</span><span class="w">             </span><span class="err">[</span><span class="nv">overcast</span><span class="p">,</span><span class="n">mild</span><span class="p">,</span><span class="n">high</span><span class="p">,</span><span class="n">strong</span><span class="p">,</span><span class="n">yes</span><span class="p">],</span>
<span class="nv">%</span><span class="w"> </span><span class="err">%</span><span class="w">             </span><span class="err">[</span><span class="nv">overcast</span><span class="p">,</span><span class="n">hot</span><span class="p">,</span><span class="n">normal</span><span class="p">,</span><span class="n">weak</span><span class="p">,</span><span class="n">yes</span><span class="p">],</span>
<span class="nv">%</span><span class="w"> </span><span class="err">%</span><span class="w">             </span><span class="err">[</span><span class="nv">rain</span><span class="p">,</span><span class="n">mild</span><span class="p">,</span><span class="n">high</span><span class="p">,</span><span class="n">strong</span><span class="p">,</span><span class="k">no</span><span class="p">]],</span>
<span class="nv">%</span><span class="w"> </span><span class="err">%</span><span class="w">            </span><span class="err">[</span><span class="nv">sunny</span><span class="p">,</span><span class="w"> </span><span class="n">hot</span><span class="p">,</span><span class="w"> </span><span class="n">high</span><span class="p">,</span><span class="w"> </span><span class="n">strong</span><span class="p">],</span><span class="w"> </span><span class="n">Result</span><span class="p">)</span><span class="o">.</span>
<span class="nv">%</span>
<span class="err">%</span><span class="w"> </span><span class="nv">discretize</span><span class="p">(</span><span class="n">Examples</span><span class="p">,</span><span class="w"> </span><span class="n">NewExample</span><span class="p">,</span><span class="w"> </span><span class="n">Result</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">-</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">best_attribute</span><span class="p">(</span><span class="n">Examples</span><span class="p">,</span><span class="w"> </span><span class="n">BestAttributeIndex</span><span class="p">),</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">split_examples</span><span class="p">(</span><span class="n">Examples</span><span class="p">,</span><span class="w"> </span><span class="n">BestAttributeIndex</span><span class="p">,</span><span class="w"> </span><span class="n">WithAttribute</span><span class="p">,</span><span class="w"> </span><span class="n">WithoutAttribute</span><span class="p">),</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">build_tree</span><span class="p">(</span><span class="n">Examples</span><span class="p">,</span><span class="w"> </span><span class="n">BestAttributeIndex</span><span class="o">-</span><span class="n">BestAttributeIndex</span><span class="p">,</span><span class="w"> </span><span class="n">DefaultClass</span><span class="p">),</span>
<span class="nv">%</span><span class="w">     </span><span class="nv">classify</span><span class="p">(</span><span class="n">NewExample</span><span class="p">,</span><span class="w"> </span><span class="n">Result</span><span class="p">)</span><span class="o">.</span>
<span class="nv">%</span>
<span class="err">%</span><span class="w"> </span><span class="nv">discretize</span><span class="p">([[</span><span class="n">outlook</span><span class="p">,</span><span class="n">temperature</span><span class="p">,</span><span class="n">humidity</span><span class="p">,</span><span class="n">wind</span><span class="p">,</span><span class="n">play</span><span class="p">],</span>
<span class="nv">%</span><span class="w">              </span><span class="err">[</span><span class="nv">sunny</span><span class="p">,</span><span class="n">hot</span><span class="p">,</span><span class="n">high</span><span class="p">,</span><span class="n">weak</span><span class="p">,</span><span class="k">no</span><span class="p">],</span>
<span class="nv">%</span><span class="w">              </span><span class="err">[</span><span class="nv">sunny</span><span class="p">,</span><span class="n">hot</span><span class="p">,</span><span class="n">high</span><span class="p">,</span><span class="n">strong</span><span class="p">,</span><span class="k">no</span><span class="p">],</span>
<span class="nv">%</span><span class="w">              </span><span class="err">[</span><span class="nv">overcast</span><span class="p">,</span><span class="n">hot</span><span class="p">,</span><span class="n">high</span><span class="p">,</span><span class="n">weak</span><span class="p">,</span><span class="n">yes</span><span class="p">],</span>
<span class="nv">%</span><span class="w">              </span><span class="err">[</span><span class="nv">rain</span><span class="p">,</span><span class="n">mild</span><span class="p">,</span><span class="n">high</span><span class="p">,</span><span class="n">weak</span><span class="p">,</span><span class="n">yes</span><span class="p">],</span>
<span class="nv">%</span><span class="w">              </span><span class="err">[</span><span class="nv">rain</span><span class="p">,</span><span class="n">cool</span><span class="p">,</span><span class="n">normal</span><span class="p">,</span><span class="n">weak</span><span class="p">,</span><span class="n">yes</span><span class="p">],</span>
<span class="nv">%</span><span class="w">              </span><span class="err">[</span><span class="nv">rain</span><span class="p">,</span><span class="n">cool</span><span class="p">,</span><span class="n">normal</span><span class="p">,</span><span class="n">strong</span><span class="p">,</span><span class="k">no</span><span class="p">],</span>
<span class="nv">%</span><span class="w">              </span><span class="err">[</span><span class="nv">overcast</span><span class="p">,</span><span class="n">cool</span><span class="p">,</span><span class="n">normal</span><span class="p">,</span><span class="n">strong</span><span class="p">,</span><span class="n">yes</span><span class="p">],</span>
<span class="nv">%</span><span class="w">              </span><span class="err">[</span><span class="nv">sunny</span><span class="p">,</span><span class="n">mild</span><span class="p">,</span><span class="n">high</span><span class="p">,</span><span class="n">weak</span><span class="p">,</span><span class="k">no</span><span class="p">],</span>
<span class="nv">%</span><span class="w">              </span><span class="err">[</span><span class="nv">sunny</span><span class="p">,</span><span class="n">cool</span><span class="p">,</span><span class="n">normal</span><span class="p">,</span><span class="n">weak</span><span class="p">,</span><span class="n">yes</span><span class="p">],</span>
<span class="nv">%</span><span class="w">              </span><span class="err">[</span><span class="nv">rain</span><span class="p">,</span><span class="n">mild</span><span class="p">,</span><span class="n">normal</span><span class="p">,</span><span class="n">weak</span><span class="p">,</span><span class="n">yes</span><span class="p">],</span>
<span class="nv">%</span><span class="w">              </span><span class="err">[</span><span class="nv">sunny</span><span class="p">,</span><span class="n">mild</span><span class="p">,</span><span class="n">normal</span><span class="p">,</span><span class="n">strong</span><span class="p">,</span><span class="n">yes</span><span class="p">],</span>
<span class="nv">%</span><span class="w">              </span><span class="err">[</span><span class="nv">overcast</span><span class="p">,</span><span class="n">mild</span><span class="p">,</span><span class="n">high</span><span class="p">,</span><span class="n">strong</span><span class="p">,</span><span class="n">yes</span><span class="p">],</span>
<span class="nv">%</span><span class="w">              </span><span class="err">[</span><span class="nv">overcast</span><span class="p">,</span><span class="n">hot</span><span class="p">,</span><span class="n">normal</span><span class="p">,</span><span class="n">weak</span><span class="p">,</span><span class="n">yes</span><span class="p">],</span>
<span class="nv">%</span><span class="w">              </span><span class="err">[</span><span class="nv">rain</span><span class="p">,</span><span class="n">mild</span><span class="p">,</span><span class="n">high</span><span class="p">,</span><span class="n">strong</span><span class="p">,</span><span class="k">no</span><span class="p">]],</span>
<span class="nv">%</span><span class="w">             </span><span class="err">[</span><span class="nv">sunny</span><span class="p">,</span><span class="w"> </span><span class="n">hot</span><span class="p">,</span><span class="w"> </span><span class="n">high</span><span class="p">,</span><span class="w"> </span><span class="n">strong</span><span class="p">],</span><span class="w"> </span><span class="n">Result</span><span class="p">)</span><span class="o">.</span>
<span class="nv">%</span>

</pre></div>
    </div>
  </div>
  <div class='clearall'></div>
</div>
</body>
